<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Niko Aaltonen — Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="bg">
    <img src="/images/kuva1.jpg" alt="" class="bg-img i1" loading="lazy">
    <img src="/images/kuva2.jpg" alt="" class="bg-img i2" loading="lazy">
    <img src="/images/kuva3.jpg" alt="" class="bg-img i3" loading="lazy">
    <div class="bg-overlay"></div>
  </div>

  <header class="nav glass">
    <div class="brand">Niko Aaltonen</div>
    <nav>
      <a href="#music">Musiikki</a>
      <a href="#theatre-sound">Teatteri / Äänisuunnittelu</a>
      <a href="#bio">Bio</a>
      <a href="#contact">Yhteys</a>
    </nav>
  </header>

  <section class="hero">
    <h1>Niko Aaltonen</h1>
    <p>Säveltäjä • äänisuunnittelija • monialainen taiteilija</p>
    <div class="cta">
      <a class="btn" href="#theatre-sound">Kuuntele</a>
      <a class="btn ghost" href="#bio">Lue lisää</a>
    </div>
  </section>

  <main class="content">
    <!-- Selli section -->
    <section id="theatre-sound" class="card glass theatre">
      <header class="section-head">
        <h2>Musiikkia näytelmästä <em>Selli</em></h2>
        <p class="muted">Valikoidut kohtaukset. Kuuntele waveformin kautta.</p>
      </header>

      <div class="ws-list">
        <!-- Track 1 -->
        <article class="ws-track glass" data-src="/audio/selli_2naytos6kohtaus.mp3">
          <div class="ws-meta">
            <h3>Teeman huipennus</h3>
            <p class="note stylized">Toisen näytöksen loppuhuipennus, täynnä traumaa ja voimakkaita tunteita.</p>
          </div>
          <div class="ws-controls">
            <button class="ws-play" aria-label="Play/Pause">▶</button>
            <div class="ws-wave" aria-hidden="true"></div>
            <div class="ws-time"><span class="curr">0:00</span> / <span class="dur">–:–</span></div>
          </div>
        </article>

        <!-- Track 2 -->
        <article class="ws-track glass" data-src="/audio/selli_4naytos1kohtaus.mp3">
          <div class="ws-meta">
            <h3>Järkensä menettänyt</h3>
            <p class="note stylized">Musiikki murtuneesta miehestä.</p>
          </div>
          <div class="ws-controls">
            <button class="ws-play" aria-label="Play/Pause">▶</button>
            <div class="ws-wave" aria-hidden="true"></div>
            <div class="ws-time"><span class="curr">0:00</span> / <span class="dur">–:–</span></div>
          </div>
        </article>
      </div>
    </section>

    <!-- Bio -->
    <section id="bio" class="card glass">
      <h2>Bio</h2>
      <p>Niko Aaltonen on säveltäjä, äänisuunnittelija ja monialainen taiteilija Turusta. Hänen taustansa musiikkituotannon ja teatterin parissa näkyy työssä, jossa yhdistyvät tunnelmalliset äänimaisemat ja vahva emotionaalinen syvyys. Niko luo musiikkia ja äänisuunnittelua, jotka kertovat tarinoita, herättävät muistoja ja tukevat esitysten visuaalista ja dramaturgista kokonaisuutta. Hänen äänimaailmansa liikkuvat klassisen musiikin, pop/rockin ja elektronisen kokeellisuuden välillä – rajoja pelottomasti rikkoen. …</p>
    </section>

    <!-- Contact -->
    <section id="contact" class="card glass">
      <h2>Yhteys</h2>
      <p><a href="mailto:sinun.sahkoposti@esimerkki.com">sinun.sahkoposti@esimerkki.com</a></p>
    </section>
  </main>

  <!-- Wavesurfer CDN -->
  <script src="https://unpkg.com/wavesurfer.js@7"></script>

  <script>
    const fmt = s => {
      if (!isFinite(s)) return '–:–';
      s = Math.max(0, s|0);
      const m = (s/60|0), ss = String(s%60).padStart(2,'0');
      return `${m}:${ss}`;
    };

    const tracks = document.querySelectorAll('.ws-track');
    let currentWS = null;

    tracks.forEach(card => {
      const btn = card.querySelector('.ws-play');
      const waveEl = card.querySelector('.ws-wave');
      const curr = card.querySelector('.curr');
      const dur  = card.querySelector('.dur');
      const src  = card.dataset.src;

      const ws = WaveSurfer.create({
        container: waveEl,
        height: 64,
        waveColor: 'rgba(255,255,255,0.45)',
        progressColor: 'rgba(255,255,255,0.9)',
        cursorColor: 'rgba(255,255,255,0.6)',
        barWidth: 2,
        barGap: 2,
        barRadius: 2,
        responsive: true,
        url: src,
      });

      ws.on('ready', () => { if (dur) dur.textContent = fmt(ws.getDuration()); });
      ws.on('timeupdate', t => { if (curr) curr.textContent = fmt(t); });
      ws.on('finish', () => btn.textContent = '▶');

      function playPause() {
        if (currentWS && currentWS !== ws) currentWS.pause();
        ws.playPause();
        currentWS = ws.isPlaying() ? ws : null;
        btn.textContent = ws.isPlaying() ? '⏸' : '▶';
      }

      btn.addEventListener('click', playPause);
      waveEl.addEventListener('click', () => { if (!ws.isPlaying()) playPause(); });

      card.tabIndex = 0;
      card.addEventListener('keydown', e => {
        if (e.code === 'Space') { e.preventDefault(); playPause(); }
      });
    });

    // Parallax bg
    document.addEventListener('scroll', () => {
      const y = window.scrollY;
      document.documentElement.style.setProperty('--parallax', y * 0.05 + 'px');
    });
  </script>
</body>
</html>

